\documentclass[a4paper, 12pt]{article}		% General format
%\documentclass[a4paper, 14pt]{extarticle} % Advanced format

%%%% Charset
\usepackage{cmap}							% Make PDF files searchable and copyable
\usepackage[utf8x]{inputenc}				% Accept different input encodings
\usepackage[T2A]{fontenc}					% Russian font
\usepackage[russian]{babel}					% Multilingual support (T2A)

%%%% Graphics
\usepackage[dvipsnames]{xcolor}			% Driver-independent color extensions
\usepackage{graphicx}						% Enhanced support for graphics
\usepackage{wrapfig}						% Produces figures which text can flow around

%%%% Graphs
\usepackage{tikz}							% Creating graphics programmatically
\usetikzlibrary{arrows}						% Arrows for tikz

%%%% Math
\usepackage{amsmath}						% American Mathematical Society (AMS) math facilities
\usepackage{amsfonts}						% fonts from the AMS
\usepackage{amssymb}						% additional math symbols

%%%% Typography (don't forget about cm-super)
\usepackage{microtype}						% subliminal refinements towards typographical perfection
\linespread{1.3}							% line spacing
\usepackage[left=2.5cm, right=1.5cm, top=2.5cm, bottom=2.5cm]{geometry}
\setlength{\parindent}{0pt}					% we don't want any paragraph indentation
\usepackage{parskip}						% add distance between paragraphs

%%%% Tables
\usepackage{tabularx}						% Enhanced tables
\usepackage{multirow}						% For tabular
\usepackage{hhline}							% For tabular

%%%% Other
\usepackage{url}							% Verbatim with URL-sensitive line breaks
\usepackage{fancyvrb}						% Sophisticated verbatim text
\setcounter{secnumdepth}{5}					% Turn on subsection numbering

%------------------------------------------------------------------------------
\usepackage{listings}						% typeset source code listings

% Цвета для кода
\definecolor{mygreen}{HTML}{3F7F5F} 		% color values Red, Green, Blue
\definecolor{mylilas}{RGB}{170,55,241}

% Настройки отображения кода
\lstset{language=Matlab,%
    %basicstyle=\color{red},
    breaklines=true,						% Перенос длинных строк
    morekeywords={matlab2tikz},
    keywordstyle=\color{blue},%
    morekeywords=[2]{1}, keywordstyle=[2]{\color{black}},
    identifierstyle=\color{black},%
    stringstyle=\color{mylilas},
    commentstyle=\color{mygreen},%
    showstringspaces=false,					% don't mark spaces in strings
    frame=tblr								% draw a frame at all sides of the code block
	rulecolor=\color{frame},				% Цвет рамки
	tabsize=2,								% tab space width
	showstringspaces=false,					% don't mark spaces in strings
    numbers=left,%
    numberstyle={\tiny \color{black}},% size of the numbers
    numbersep=9pt, % this defines how far the numbers are from the text
    emph=[1]{for,end,break},emphstyle=[1]\color{red}, %some words to emphasise
    %emph=[2]{word1,word2}, emphstyle=[2]{style},    
	% Для отображения русского языка
	extendedchars=true,
	literate=
		{Ö}{{\"O}}1						{Ä}{{\"A}}1						{Ü}{{\"U}}1
		{ß}{{\ss}}1						{ü}{{\"u}}1						{ä}{{\"a}}1
		{ö}{{\"o}}1						{~}{{\textasciitilde}}1			{а}{{\selectfont\char224}}1
		{б}{{\selectfont\char225}}1		{в}{{\selectfont\char226}}1		{г}{{\selectfont\char227}}1
		{д}{{\selectfont\char228}}1		{е}{{\selectfont\char229}}1		{ё}{{\"e}}1
		{ж}{{\selectfont\char230}}1		{з}{{\selectfont\char231}}1		{и}{{\selectfont\char232}}1
		{й}{{\selectfont\char233}}1		{к}{{\selectfont\char234}}1		{л}{{\selectfont\char235}}1
		{м}{{\selectfont\char236}}1		{н}{{\selectfont\char237}}1		{о}{{\selectfont\char238}}1
		{п}{{\selectfont\char239}}1		{р}{{\selectfont\char240}}1		{с}{{\selectfont\char241}}1
		{т}{{\selectfont\char242}}1		{у}{{\selectfont\char243}}1		{ф}{{\selectfont\char244}}1
		{х}{{\selectfont\char245}}1		{ц}{{\selectfont\char246}}1		{ч}{{\selectfont\char247}}1
		{ш}{{\selectfont\char248}}1		{щ}{{\selectfont\char249}}1		{ъ}{{\selectfont\char250}}1
		{ы}{{\selectfont\char251}}1		{ь}{{\selectfont\char252}}1		{э}{{\selectfont\char253}}1
		{ю}{{\selectfont\char254}}1		{я}{{\selectfont\char255}}1		{А}{{\selectfont\char192}}1
		{Б}{{\selectfont\char193}}1		{В}{{\selectfont\char194}}1		{Г}{{\selectfont\char195}}1
		{Д}{{\selectfont\char196}}1		{Е}{{\selectfont\char197}}1		{Ё}{{\"E}}1
		{Ж}{{\selectfont\char198}}1		{З}{{\selectfont\char199}}1		{И}{{\selectfont\char200}}1
		{Й}{{\selectfont\char201}}1		{К}{{\selectfont\char202}}1		{Л}{{\selectfont\char203}}1
		{М}{{\selectfont\char204}}1		{Н}{{\selectfont\char205}}1		{О}{{\selectfont\char206}}1
		{П}{{\selectfont\char207}}1		{Р}{{\selectfont\char208}}1		{С}{{\selectfont\char209}}1
		{Т}{{\selectfont\char210}}1		{У}{{\selectfont\char211}}1		{Ф}{{\selectfont\char212}}1
		{Х}{{\selectfont\char213}}1		{Ц}{{\selectfont\char214}}1		{Ч}{{\selectfont\char215}}1
		{Ш}{{\selectfont\char216}}1		{Щ}{{\selectfont\char217}}1		{Ъ}{{\selectfont\char218}}1
		{Ы}{{\selectfont\char219}}1		{Ь}{{\selectfont\char220}}1		{Э}{{\selectfont\char221}}1
		{Ю}{{\selectfont\char222}}1		{Я}{{\selectfont\char223}}1		{і}{{\selectfont\char105}}1
		{ї}{{\selectfont\char168}}1		{є}{{\selectfont\char185}}1		{ґ}{{\selectfont\char160}}1
		{І}{{\selectfont\char73}}1		{Ї}{{\selectfont\char136}}1		{Є}{{\selectfont\char153}}1
		{Ґ}{{\selectfont\char128}}1
}

% Для настройки заголовка кода
\usepackage{caption}
\DeclareCaptionFont{white}{\color{сaptiontext}}
\DeclareCaptionFormat{listing}{\parbox{\linewidth}{\colorbox{сaptionbk}{\parbox{\linewidth}{#1#2#3}}\vskip-4pt}}
%\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white}
\renewcommand{\lstlistingname}{Листинг} % Переименование Listings в нужное именование структуры
%------------------------------------------------------------------------------

\begin{document}

\input{titlepage} % Титульная страница
\tableofcontents

%------------------------------------------------------------------------------

\input{task} % Постановка задачи

\input{intro} % Введение

\input{rtsyscalls} % Системные вызовы процессов реального времени

\input{impl} % Реализация системных вызовов в различных версиях ядра





\input{sources} % Источники

%------------------------------------------------------------------------------

\end{document}